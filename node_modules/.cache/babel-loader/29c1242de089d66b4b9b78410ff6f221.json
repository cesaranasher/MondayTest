{"ast":null,"code":"\"use strict\"; // Copyright 2018 Google LLC\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//    http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Gaxios = void 0;\n\nconst extend_1 = __importDefault(require(\"extend\"));\n\nconst https_1 = require(\"https\");\n\nconst node_fetch_1 = __importDefault(require(\"node-fetch\"));\n\nconst querystring_1 = __importDefault(require(\"querystring\"));\n\nconst is_stream_1 = __importDefault(require(\"is-stream\"));\n\nconst url_1 = require(\"url\");\n\nconst common_1 = require(\"./common\");\n\nconst retry_1 = require(\"./retry\");\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\n\nconst fetch = hasFetch() ? window.fetch : node_fetch_1.default;\n\nfunction hasWindow() {\n  return typeof window !== 'undefined' && !!window;\n}\n\nfunction hasFetch() {\n  return hasWindow() && !!window.fetch;\n}\n\nfunction hasBuffer() {\n  return typeof Buffer !== 'undefined';\n}\n\nfunction hasHeader(options, header) {\n  return !!getHeader(options, header);\n}\n\nfunction getHeader(options, header) {\n  header = header.toLowerCase();\n\n  for (const key of Object.keys((options === null || options === void 0 ? void 0 : options.headers) || {})) {\n    if (header === key.toLowerCase()) {\n      return options.headers[key];\n    }\n  }\n\n  return undefined;\n}\n\nlet HttpsProxyAgent;\n\nfunction loadProxy() {\n  var _a, _b, _c, _d;\n\n  const proxy = ((_a = process === null || process === void 0 ? void 0 : process.env) === null || _a === void 0 ? void 0 : _a.HTTPS_PROXY) || ((_b = process === null || process === void 0 ? void 0 : process.env) === null || _b === void 0 ? void 0 : _b.https_proxy) || ((_c = process === null || process === void 0 ? void 0 : process.env) === null || _c === void 0 ? void 0 : _c.HTTP_PROXY) || ((_d = process === null || process === void 0 ? void 0 : process.env) === null || _d === void 0 ? void 0 : _d.http_proxy);\n\n  if (proxy) {\n    HttpsProxyAgent = require('https-proxy-agent');\n  }\n\n  return proxy;\n}\n\nloadProxy();\n\nfunction skipProxy(url) {\n  var _a;\n\n  const noProxyEnv = (_a = process.env.NO_PROXY) !== null && _a !== void 0 ? _a : process.env.no_proxy;\n\n  if (!noProxyEnv) {\n    return false;\n  }\n\n  const noProxyUrls = noProxyEnv.split(',');\n  const parsedURL = new url_1.URL(url);\n  return !!noProxyUrls.find(url => {\n    if (url.startsWith('*.') || url.startsWith('.')) {\n      url = url.replace(/^\\*\\./, '.');\n      return parsedURL.hostname.endsWith(url);\n    } else {\n      return url === parsedURL.origin || url === parsedURL.hostname;\n    }\n  });\n} // Figure out if we should be using a proxy. Only if it's required, load\n// the https-proxy-agent module as it adds startup cost.\n\n\nfunction getProxy(url) {\n  // If there is a match between the no_proxy env variables and the url, then do not proxy\n  if (skipProxy(url)) {\n    return undefined; // If there is not a match between the no_proxy env variables and the url, check to see if there should be a proxy\n  } else {\n    return loadProxy();\n  }\n}\n\nclass Gaxios {\n  /**\n   * The Gaxios class is responsible for making HTTP requests.\n   * @param defaults The default set of options to be used for this instance.\n   */\n  constructor(defaults) {\n    this.agentCache = new Map();\n    this.defaults = defaults || {};\n  }\n  /**\n   * Perform an HTTP request with the given options.\n   * @param opts Set of HTTP options that will be used for this HTTP request.\n   */\n\n\n  async request() {\n    let opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    opts = this.validateOpts(opts);\n    return this._request(opts);\n  }\n\n  async _defaultAdapter(opts) {\n    const fetchImpl = opts.fetchImplementation || fetch;\n    const res = await fetchImpl(opts.url, opts);\n    const data = await this.getResponseData(opts, res);\n    return this.translateResponse(opts, res, data);\n  }\n  /**\n   * Internal, retryable version of the `request` method.\n   * @param opts Set of HTTP options that will be used for this HTTP request.\n   */\n\n\n  async _request() {\n    let opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    try {\n      let translatedResponse;\n\n      if (opts.adapter) {\n        translatedResponse = await opts.adapter(opts, this._defaultAdapter.bind(this));\n      } else {\n        translatedResponse = await this._defaultAdapter(opts);\n      }\n\n      if (!opts.validateStatus(translatedResponse.status)) {\n        if (opts.responseType === 'stream') {\n          let response = '';\n          await new Promise(resolve => {\n            translatedResponse.data.on('data', chunk => {\n              response += chunk;\n            });\n            translatedResponse.data.on('end', resolve);\n          });\n          translatedResponse.data = response;\n        }\n\n        throw new common_1.GaxiosError(`Request failed with status code ${translatedResponse.status}`, opts, translatedResponse);\n      }\n\n      return translatedResponse;\n    } catch (e) {\n      const err = e;\n      err.config = opts;\n      const {\n        shouldRetry,\n        config\n      } = await (0, retry_1.getRetryConfig)(err);\n\n      if (shouldRetry && config) {\n        err.config.retryConfig.currentRetryAttempt = config.retryConfig.currentRetryAttempt;\n        return this._request(err.config);\n      }\n\n      throw err;\n    }\n  }\n\n  async getResponseData(opts, res) {\n    switch (opts.responseType) {\n      case 'stream':\n        return res.body;\n\n      case 'json':\n        {\n          let data = await res.text();\n\n          try {\n            data = JSON.parse(data);\n          } catch (_a) {// continue\n          }\n\n          return data;\n        }\n\n      case 'arraybuffer':\n        return res.arrayBuffer();\n\n      case 'blob':\n        return res.blob();\n\n      default:\n        return res.text();\n    }\n  }\n  /**\n   * Validates the options, and merges them with defaults.\n   * @param opts The original options passed from the client.\n   */\n\n\n  validateOpts(options) {\n    const opts = (0, extend_1.default)(true, {}, this.defaults, options);\n\n    if (!opts.url) {\n      throw new Error('URL is required.');\n    } // baseUrl has been deprecated, remove in 2.0\n\n\n    const baseUrl = opts.baseUrl || opts.baseURL;\n\n    if (baseUrl) {\n      opts.url = baseUrl + opts.url;\n    }\n\n    opts.paramsSerializer = opts.paramsSerializer || this.paramsSerializer;\n\n    if (opts.params && Object.keys(opts.params).length > 0) {\n      let additionalQueryParams = opts.paramsSerializer(opts.params);\n\n      if (additionalQueryParams.startsWith('?')) {\n        additionalQueryParams = additionalQueryParams.slice(1);\n      }\n\n      const prefix = opts.url.includes('?') ? '&' : '?';\n      opts.url = opts.url + prefix + additionalQueryParams;\n    }\n\n    if (typeof options.maxContentLength === 'number') {\n      opts.size = options.maxContentLength;\n    }\n\n    if (typeof options.maxRedirects === 'number') {\n      opts.follow = options.maxRedirects;\n    }\n\n    opts.headers = opts.headers || {};\n\n    if (opts.data) {\n      const isFormData = typeof FormData === 'undefined' ? false : (opts === null || opts === void 0 ? void 0 : opts.data) instanceof FormData;\n\n      if (is_stream_1.default.readable(opts.data)) {\n        opts.body = opts.data;\n      } else if (hasBuffer() && Buffer.isBuffer(opts.data)) {\n        // Do not attempt to JSON.stringify() a Buffer:\n        opts.body = opts.data;\n\n        if (!hasHeader(opts, 'Content-Type')) {\n          opts.headers['Content-Type'] = 'application/json';\n        }\n      } else if (typeof opts.data === 'object') {\n        // If www-form-urlencoded content type has been set, but data is\n        // provided as an object, serialize the content using querystring:\n        if (!isFormData) {\n          if (getHeader(opts, 'content-type') === 'application/x-www-form-urlencoded') {\n            opts.body = opts.paramsSerializer(opts.data);\n          } else {\n            // } else if (!(opts.data instanceof FormData)) {\n            if (!hasHeader(opts, 'Content-Type')) {\n              opts.headers['Content-Type'] = 'application/json';\n            }\n\n            opts.body = JSON.stringify(opts.data);\n          }\n        }\n      } else {\n        opts.body = opts.data;\n      }\n    }\n\n    opts.validateStatus = opts.validateStatus || this.validateStatus;\n    opts.responseType = opts.responseType || 'json';\n\n    if (!opts.headers['Accept'] && opts.responseType === 'json') {\n      opts.headers['Accept'] = 'application/json';\n    }\n\n    opts.method = opts.method || 'GET';\n    const proxy = getProxy(opts.url);\n\n    if (proxy) {\n      if (this.agentCache.has(proxy)) {\n        opts.agent = this.agentCache.get(proxy);\n      } else {\n        // Proxy is being used in conjunction with mTLS.\n        if (opts.cert && opts.key) {\n          const parsedURL = new url_1.URL(proxy);\n          opts.agent = new HttpsProxyAgent({\n            port: parsedURL.port,\n            host: parsedURL.host,\n            protocol: parsedURL.protocol,\n            cert: opts.cert,\n            key: opts.key\n          });\n        } else {\n          opts.agent = new HttpsProxyAgent(proxy);\n        }\n\n        this.agentCache.set(proxy, opts.agent);\n      }\n    } else if (opts.cert && opts.key) {\n      // Configure client for mTLS:\n      if (this.agentCache.has(opts.key)) {\n        opts.agent = this.agentCache.get(opts.key);\n      } else {\n        opts.agent = new https_1.Agent({\n          cert: opts.cert,\n          key: opts.key\n        });\n        this.agentCache.set(opts.key, opts.agent);\n      }\n    }\n\n    return opts;\n  }\n  /**\n   * By default, throw for any non-2xx status code\n   * @param status status code from the HTTP response\n   */\n\n\n  validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n  /**\n   * Encode a set of key/value pars into a querystring format (?foo=bar&baz=boo)\n   * @param params key value pars to encode\n   */\n\n\n  paramsSerializer(params) {\n    return querystring_1.default.stringify(params);\n  }\n\n  translateResponse(opts, res, data) {\n    // headers need to be converted from a map to an obj\n    const headers = {};\n    res.headers.forEach((value, key) => {\n      headers[key] = value;\n    });\n    return {\n      config: opts,\n      data: data,\n      headers,\n      status: res.status,\n      statusText: res.statusText,\n      // XMLHttpRequestLike\n      request: {\n        responseURL: res.url\n      }\n    };\n  }\n\n}\n\nexports.Gaxios = Gaxios;","map":{"version":3,"mappings":"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","names":["fetch","hasFetch","window","node_fetch_1","hasWindow","hasBuffer","Buffer","hasHeader","options","header","getHeader","toLowerCase","key","Object","keys","headers","undefined","HttpsProxyAgent","loadProxy","proxy","env","_a","HTTPS_PROXY","_b","https_proxy","_c","HTTP_PROXY","_d","http_proxy","require","skipProxy","url","noProxyEnv","NO_PROXY","process","no_proxy","noProxyUrls","split","parsedURL","url_1","find","startsWith","replace","hostname","endsWith","origin","getProxy","Gaxios","constructor","defaults","Map","request","opts","validateOpts","_request","_defaultAdapter","fetchImpl","fetchImplementation","res","data","getResponseData","translateResponse","translatedResponse","adapter","bind","validateStatus","status","responseType","response","Promise","resolve","on","chunk","common_1","e","err","config","shouldRetry","retryConfig","currentRetryAttempt","body","text","JSON","parse","arrayBuffer","blob","Error","baseUrl","baseURL","paramsSerializer","params","length","additionalQueryParams","slice","prefix","includes","maxContentLength","size","maxRedirects","follow","isFormData","FormData","is_stream_1","readable","isBuffer","stringify","method","agentCache","has","agent","get","cert","port","host","protocol","set","https_1","querystring_1","forEach","value","statusText","responseURL","exports"],"sources":["../../src/gaxios.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}