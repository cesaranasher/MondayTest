{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { LocalLogger } from '../logger/logger.local.js';\nimport { isDefined } from '../types/guards.js';\nimport { LogMethods } from '../types/logger.js';\nimport { isLocalEnvironment } from './env.js';\nvar defaultOptions = {\n  mondayInternal: true\n};\n\nvar Logger =\n/** @class */\nfunction () {\n  /**\n   * @param tag - Will be added to every logged message\n   * @param {Options} options\n   */\n  function Logger(tag, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    this.tag = tag;\n    this.options = __assign(__assign({}, defaultOptions), options);\n\n    if (isLocalEnvironment()) {\n      this.localLogger = new LocalLogger(tag);\n    }\n  }\n\n  Logger.prototype.logMessage = function (severity, message, options) {\n    var _a, _b, _c;\n\n    var logOptions = __assign(__assign({}, this.options), options);\n\n    if (this.localLogger && logOptions.mondayInternal === true) {\n      return;\n    }\n\n    if (isDefined(this.localLogger)) {\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-call\n      (_b = (_a = this.localLogger)[severity === null || severity === void 0 ? void 0 : severity.toLowerCase()]) === null || _b === void 0 ? void 0 : _b.call(_a, message, __assign({}, (logOptions === null || logOptions === void 0 ? void 0 : logOptions.error) && {\n        error: logOptions.error\n      }));\n    } else {\n      console.log(JSON.stringify(__assign(__assign({\n        severity: severity,\n        tag: this.tag,\n        message: message\n      }, logOptions), logOptions.error && {\n        stack: (_c = logOptions.error) === null || _c === void 0 ? void 0 : _c.stack\n      })));\n    }\n  };\n\n  Logger.prototype.debug = function (message, options) {\n    this.logMessage(LogMethods.DEBUG, message, options);\n  };\n\n  Logger.prototype.error = function (message, options) {\n    this.logMessage(LogMethods.ERROR, message, options);\n  };\n\n  Logger.prototype.warn = function (message, options) {\n    this.logMessage(LogMethods.WARNING, message, options);\n  };\n\n  Logger.prototype.info = function (message, options) {\n    this.logMessage(LogMethods.INFO, message, options);\n  };\n\n  return Logger;\n}();\n\nexport { Logger };","map":{"version":3,"mappings":";;;;;;;;;;;;;;AAAA,SAASA,WAAT,QAA4B,2BAA5B;AACA,SAASC,SAAT,QAA0B,oBAA1B;AACA,SAASC,UAAT,QAAoC,oBAApC;AACA,SAASC,kBAAT,QAAmC,UAAnC;AAEA,IAAMC,cAAc,GAAY;EAC9BC,cAAc,EAAE;AADc,CAAhC;;AAIA;AAAA;AAAA;EAIE;;;;EAIA,gBAAoBC,GAApB,EAAiCC,OAAjC,EAAsD;IAArB;MAAAA;IAAqB;;IAAlC;IAClB,KAAKA,OAAL,GAAYC,sBAAQJ,cAAR,GAA2BG,OAA3B,CAAZ;;IACA,IAAIJ,kBAAkB,EAAtB,EAA0B;MACxB,KAAKM,WAAL,GAAmB,IAAIT,WAAJ,CAAgBM,GAAhB,CAAnB;IACD;EACF;;EAEOI,8BAAR,UAAmBC,QAAnB,EAAyCC,OAAzC,EAA0DL,OAA1D,EAA2E;;;IACzE,IAAMM,UAAU,yBAAQ,KAAKN,OAAb,GAAyBA,OAAzB,CAAhB;;IACA,IAAI,KAAKE,WAAL,IAAoBI,UAAU,CAACR,cAAX,KAA8B,IAAtD,EAA4D;MAC1D;IACD;;IAED,IAAIJ,SAAS,CAAC,KAAKQ,WAAN,CAAb,EAAiC;MAC/B;MACA,iBAAKA,WAAL,EAAiBE,QAAQ,SAAR,YAAQ,WAAR,GAAQ,MAAR,WAAQ,CAAEG,WAAV,EAAjB,OAAyC,IAAzC,IAAyCC,aAAzC,GAAyC,MAAzC,GAAyCA,YAAGH,OAAH,EAAUJ,aAAO,WAAU,SAAV,cAAU,WAAV,GAAU,MAAV,aAAU,CAAEQ,KAAZ,KAAqB;QAAEA,KAAK,EAAEH,UAAU,CAACG;MAApB,CAA5B,CAAV,CAAzC;IACD,CAHD,MAGO;MACLC,OAAO,CAACC,GAAR,CAAYC,IAAI,CAACC,SAAL,CAAcZ;QACxBG,QAAQ,UADgB;QAExBL,GAAG,EAAE,KAAKA,GAFc;QAGxBM,OAAO;MAHiB,GAIrBC,UAJqB,GAKrBA,UAAU,CAACG,KAAX,IAAoB;QAAEK,KAAK,EAAE,gBAAU,CAACL,KAAX,MAAgB,IAAhB,IAAgBM,aAAhB,GAAgB,MAAhB,GAAgBA,GAAED;MAA3B,CALC,CAAd,CAAZ;IAOD;EACF,CAlBO;;EAoBRX,mCAAME,OAAN,EAAuBL,OAAvB,EAAwC;IACtC,KAAKgB,UAAL,CAAgBrB,UAAU,CAACsB,KAA3B,EAAkCZ,OAAlC,EAA2CL,OAA3C;EACD,CAFD;;EAIAG,mCAAME,OAAN,EAAuBL,OAAvB,EAAwC;IACtC,KAAKgB,UAAL,CAAgBrB,UAAU,CAACuB,KAA3B,EAAkCb,OAAlC,EAA2CL,OAA3C;EACD,CAFD;;EAIAG,kCAAKE,OAAL,EAAsBL,OAAtB,EAAuC;IACrC,KAAKgB,UAAL,CAAgBrB,UAAU,CAACwB,OAA3B,EAAoCd,OAApC,EAA6CL,OAA7C;EACD,CAFD;;EAIAG,kCAAKE,OAAL,EAAsBL,OAAtB,EAAuC;IACrC,KAAKgB,UAAL,CAAgBrB,UAAU,CAACyB,IAA3B,EAAiCf,OAAjC,EAA0CL,OAA1C;EACD,CAFD;;EAGF;AAAC,CAlDD","names":["LocalLogger","isDefined","LogMethods","isLocalEnvironment","defaultOptions","mondayInternal","tag","options","__assign","localLogger","Logger","severity","message","logOptions","toLowerCase","_b","error","console","log","JSON","stringify","stack","_c","logMessage","DEBUG","ERROR","WARNING","INFO"],"sources":["../../../lib/utils/logger.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}